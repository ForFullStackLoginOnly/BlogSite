{"version":3,"sources":["services/blog.js","components/Notification.js","reducers/blogReducer.js","reducers/notificationReducer.js","components/BlogForm.js","components/LogoutForm.js","components/LoginForm.js","components/Togglable.js","components/Blog.js","components/BlogList.js","components/UsersList.js","services/user.js","reducers/userReducer.js","services/login.js","reducers/currentUserReducer.js","App.js","store.js","index.js"],"names":["baseUrl","config","getAll","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","response","wrap","_context","prev","next","axios","get","sent","abrupt","data","stop","apply","this","arguments","getOne","_ref2","_callee2","id","_context2","concat","_x","services_blog","setToken","newToken","token","headers","Authorization","Content-Type","create","_ref3","_callee3","newObject","_context3","post","_x2","update","_ref4","_callee4","changedObject","_context4","put","_x3","_x4","remove","_ref5","_callee5","_context5","delete","_x5","Notification","props","notification","message","react_default","createElement","className","React","Component","connect","state","blogReducer","length","undefined","action","type","toConsumableArray","blog","blogs","newNotification","createNotification","dispatch","setTimeout","notificationReducer","BlogForm","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","addBlog","event","newBlog","preventDefault","title","author","url","createNewBlog","setState","ex","error","_this2","onSubmit","name","value","onChange","target","blogService","LogoutForm","LoginForm","username","password","handleChange","Togglable","toggleVisibility","visible","hideWhenVisible","display","showWhenVisible","style","onClick","buttonLabel","children","Blog","addLike","_id","user","likes","forceUpdate","t0","console","log","deleteBlog","paddingTop","paddingLeft","border","borderWidth","marginBottom","href","BlogList","show","map","components_Blog","key","currentUser","users","u","services_user","userReducer","services_login","login","credential","currentUserReducer","App","defineProperty","handleButtonChange","newPage","page","logout","window","localStorage","removeItem","credentials","setItem","JSON","stringify","selectedBlog","initializeUsers","initializeBlogs","loggedUserJSON","getItem","loginFromToken","parse","components_Notification","components_LoginForm","components_LogoutForm","components_Togglable","components_BlogForm","components_BlogList","components_UsersList","userService","creadentials","loginService","reducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","es","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.f514a0c4.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/blogs'\n\nlet config = null\n\nconst getAll = async () => {\n  const response = await axios.get(baseUrl)\n  return response.data\n}\n\nconst getOne = async (id) => {\n  const response = await axios.get(`${baseUrl}/${id}`)\n  return response.data\n}\n\nconst setToken = (newToken) => {\n  const token = `bearer ${newToken}`\n  config = {\n    headers: { 'Authorization': token, 'Content-Type': 'application/json' }\n  }\n}\n\nconst create = async (newObject) => {\n  const response = await axios.post(baseUrl, newObject, config)\n  return response.data\n}\n\nconst update = async (id, changedObject) => {\n  const response = await axios.put(`${baseUrl}/${id}`, changedObject, config)\n  return response.data\n}\n\nconst remove = async (id) => {\n  const response = await axios.delete(`${baseUrl}/${id}`, config)\n  return response.data\n}\n\nexport default { getAll, setToken, create, getOne, update, remove }\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nclass Notification extends React.Component {\n\n  render() {\n    if (!this.props.notification.message) {\n      return null\n    }\n    return (\n      <div className={`notification`} >{this.props.notification.message}</div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    notification: state.notification\n  }\n}\n\nexport default connect(mapStateToProps, null)(Notification)\n","import blogService from '../services/blog'\n\nconst blogReducer = (state = [], action) => {\n  switch (action.type) {\n    case 'NEW_BLOG':\n      return [...state, action.blog]\n    case 'INIT_BLOGS':\n      return action.blogs\n    default:\n      return state\n  }\n}\n\nexport const initializeBlogs = () => {\n  return async dispatch => {\n    const blogs = await blogService.getAll()\n    dispatch({\n      type: 'INIT_BLOGS',\n      blogs\n    })\n  }\n}\n\nexport const createNewBlog = (blog) => {\n  return async (dispatch) => {\n    const newBlog = await blogService.create(blog)\n    dispatch({\n      type: 'NEW_NOTE',\n      blog: newBlog\n    })\n  }\n}\n\nexport default blogReducer","const notificationReducer = (state = {}, action) => {\n  switch (action.type) {\n    case 'NEW_NOTIFICATION':\n      return action.notification\n    case 'CLEAR_NOTIFICATION':\n      return {}\n    default:\n      return state  \n  }\n}\n\nexport const newNotification = (notification) => {\n  return {\n    type: 'NEW_NOTIFICATION',\n    notification\n  }\n}\n\nexport const clearNotification = () => {\n  return {\n    type: 'CLEAR_NOTIFICATION'\n  }\n}\n\nexport const createNotification = (notification) => {\n  return async (dispatch) => {\n    dispatch(newNotification(notification))\n    setTimeout(() => {\n      dispatch(clearNotification())\n    }, 3000)\n  }\n}\n\nexport default notificationReducer","import React, { useState } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\n\nimport { createNewBlog } from '../reducers/blogReducer'\nimport { createNotification } from '../reducers/notificationReducer'\n\nclass BlogForm extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      author: '',\n      title: '',\n      url: ''\n    }\n  }\n\n  addBlog = async (event) => {\n    try {\n      event.preventDefault()\n\n      if (this.state.title.length < 5) {\n        this.props.createNotification({ message: `Title of blog ${this.state.title.length} must be atleast 5 characters` })\n      } else if (this.state.author < 5) {\n        this.props.createNotification({ message: `Author of blog ${this.state.title.length} must be atleast 5 characters` })\n      } else {\n        const newBlog = {\n          title: this.state.title,\n          author: this.state.author,\n          url: this.state.url\n        }\n        this.props.createNewBlog(newBlog)\n\n        this.props.createNotification({ message: `A new blog ${this.state.title} by ${this.state.author} added` })\n\n        this.setState({\n          title: '',\n          author: '',\n          url: '',\n        })\n      }\n    } catch (ex) {\n      this.setState({\n        error: `couldn't add new blog due to an error: ${ex}`\n      })\n      setTimeout(() => {\n        this.setState({ error: null })\n      }, 3000)\n    }\n  }\n  render() {\n    return (\n      <div>\n        <h2>Create new Blog</h2>\n\n        <form onSubmit={this.addBlog}>\n          <div>\n            title\n          <input\n              type=\"text\"\n              name=\"title\"\n              value={this.state.title}\n              onChange={({ target }) => this.setState({ title: target.value })}\n            />\n          </div>\n          <div>\n            author\n          <input\n              type=\"text\"\n              name=\"author\"\n              value={this.state.author}\n              onChange={({ target }) => this.setState({ author: target.value })}\n            />\n          </div>\n          <div>\n            url\n          <input\n              type=\"text\"\n              name=\"url\"\n              value={this.state.url}\n              onChange={({ target }) => this.setState({ url: target.value })}\n            />\n          </div>\n          <button>create</button>\n        </form>\n      </div >\n    )\n  }\n}\n\nexport default connect(\n  null,\n  { createNewBlog, createNotification }\n)(BlogForm)\n","import React from 'react'\n\nconst LogoutForm = ({onSubmit}) => {\n  return (\n    <div>\n      <form onSubmit={onSubmit}>\n        <button>logout</button>\n      </form>\n    </div>\n  )\n}\n\nexport default LogoutForm\n","import React from 'react'\n\nconst LoginForm = ({ onSubmit, username, password, handleChange }) => {\n  return (\n    <div>\n      <h2>Kirjaudu</h2>\n\n      <form onSubmit={onSubmit}>\n        <div>\n          käyttäjätunnus\n          <input\n            type=\"text\"\n            name=\"username\"\n            value={username}\n            onChange={handleChange}\n          />\n        </div>\n        <div>\n          salasana\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={password}\n            onChange={handleChange}\n          />\n        </div>\n        <button>kirjaudu</button>\n      </form>\n    </div>\n  )\n}\n\nexport default LoginForm\n","import React from 'react'\n\nclass Togglable extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      visible: false\n    }\n  }\n\n  toggleVisibility = () => {\n    this.setState({ visible: !this.state.visible })\n  }\n\n  render() {\n    const hideWhenVisible = { display: this.state.visible ? 'none' : '' }\n    const showWhenVisible = { display: this.state.visible ? '' : 'none' }\n\n    return (\n      <div>\n        <div style={hideWhenVisible}>\n          <button onClick={this.toggleVisibility}>{this.props.buttonLabel}</button>\n        </div>\n        <div style={showWhenVisible}>\n          {this.props.children}\n          <button onClick={this.toggleVisibility}>cancel</button>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Togglable","import React from 'react'\nimport blogService from '../services/blog'\nimport PropTypes from 'prop-types'\n\nclass Blog extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      visible: false\n    }\n  }\n\n  toggleVisibility = () => {\n    this.setState({ visible: !this.state.visible })\n  }\n\n  addLike = async (event) => {\n    try {\n      event.preventDefault()\n      const changedBlog = await blogService.update(this.props.blog._id, {\n        title: this.props.blog.title,\n        author: this.props.blog.author,\n        url: this.props.blog.url,\n        user: this.props.blog.user,\n        likes: this.props.blog.likes + 1\n      })\n      this.forceUpdate()\n    } catch (exception) {\n      console.log(exception)\n    }\n    setTimeout(() => {\n      this.setState({ error: null })\n    }, 3000)\n\n  }\n\n  deleteBlog = async (event) => {\n    try {\n      event.preventDefault()\n      const deleteBlog = await blogService.remove(this.props.blog._id)\n      this.forceUpdate()\n    } catch (exception) {\n      console.log(exception + 'delete blog error')\n    }\n  }\n\n  render() {\n\n    const showWhenVisible = { display: this.state.visible ? '' : 'none' }\n\n    const blogStyle = {\n      paddingTop: 10,\n      paddingLeft: 2,\n      border: 'solid',\n      borderWidth: 1,\n      marginBottom: 5\n    }\n    const DeleteButton = () => {\n      console.log(this.props.user.username)\n      console.log(this.props.blog.user.username)\n      if (this.props.user.username === this.props.blog.user.username || !this.props.blog.user.username) {\n        return (\n          <div>\n            <button onClick={this.deleteBlog}>delete</button>\n          </div>\n        )\n      }\n      return (\n        <div>\n          You can only delete your own blogs\n          </div>\n      )\n    }\n\n\n\n    return (\n      <div style={blogStyle} className=\"everything\">\n        <div className=\"authorAndTitle\" onClick={this.toggleVisibility}>{this.props.blog.title} {this.props.blog.author}</div>\n        <div className=\"togglableContent\" style={showWhenVisible}>\n          <a href={this.props.blog.url}>{this.props.blog.url}</a>\n          <p>{this.props.blog.likes} likes <button onClick={this.addLike}>like</button></p>\n          <p>added by {this.props.blog.user.name}</p>\n          <DeleteButton />\n        </div>\n      </div>\n    )\n  }\n}\nexport default Blog\n","import React from 'react'\nimport Blog from './Blog'\n\nconst BlogList = (props) => {\n\n  if (!props.show) {\n    return null\n  }\n\n  return (\n    <div>\n      <h2>blogs</h2>\n      {props.blogs.map(blog =>\n        <Blog key={blog._id} blog={blog} user={props.currentUser} />\n      )}\n    </div>\n  )\n}\n\nexport default BlogList","import React from 'react'\nimport { connect } from 'react-redux'\n\nconst UsersList = (props) => {\n\n  if (!props.show) {\n    return null\n  }\n\n  return (\n    <table>\n      <tbody>\n        <tr>\n          <th>username</th>\n          <th>name</th>\n          <th>blogs created</th>\n        </tr>\n        {props.users.map(u =>\n          <tr key={u.id}>\n            <td>{u.username}</td>\n            <td>{u.name}</td>\n            <td>{u.blogs.length}</td>\n          </tr>\n        )}\n      </tbody>\n    </table>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    users: state.users\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  null\n)(UsersList)\n\n\n\n\n","import axios from 'axios'\nconst baseUrl = '/api/users'\n\nconst getAll = async () => {\n  const response = await axios.get(baseUrl)\n  return response.data\n}\n\nconst getOne = async (id) => {\n  const response = await axios.get(`${baseUrl}/${id}`)\n  return response.data\n}\n\nconst create = async (newObject) => {\n  const response = await axios.post(baseUrl, newObject)\n  return response.data\n}\n\nexport default { getAll, create, getOne }\n","import userService from '../services/user'\n\nconst userReducer = (state = [], action) => {\n  switch (action.type) {\n    case 'NEW_USER':\n      return [...state, action.user]\n    case 'INIT_USERS':\n      return action.users\n    case 'GET_USER':\n      return action.user\n    default:\n      return state\n  }\n}\n\nexport const initializeUsers = () => {\n  return async (dispatch) => {\n    const users = await userService.getAll()\n    dispatch({\n      type: 'INIT_USERS',\n      users\n    })\n  }\n}\n\nexport const createNew = (user) => {\n  return async (dispatch) => {\n    const user = await userService.create(user)\n    dispatch({\n      type: 'NEW_USER',\n      user\n    })\n  }\n}\n\nexport const getOne = (id) => {\n  return async (dispatch) => {\n    const user = await userService.getOne(id)\n    dispatch({\n      type: 'GET_USER',\n      user\n    })\n  }\n}\n\n\n\nexport default userReducer","import axios from 'axios'\nconst baseUrl = '/api/login'\n\nconst login = async (credential) => {\n  const response = await axios.post(baseUrl, credential)\n  return response.data\n}\n\nexport default {login}\n","import loginService from '../services/login'\n\nconst currentUserReducer = (state = null, action) => {\n  switch (action.type) {\n    case 'LOGIN':\n      return action.currentUser\n    case 'LOGINCRED':\n      return action.currentUser\n    case 'LOGOUT':\n      return null\n    default:\n      return state\n  }\n}\n\n\nexport const login = (creadentials) => {\n  return async dispatch => {\n    const currentUser = await loginService.login(creadentials)\n    dispatch({\n      type: 'LOGIN',\n      currentUser\n    })\n  }\n}\n\n\nexport const loginFromToken = (currentUser) => {\n  return async dispatch => {\n    dispatch({\n      type: 'LOGINCRED',\n      currentUser\n    })\n  }\n}\n\n\nexport const logout = () => {\n  return async dispatch => {\n    dispatch({\n      type: 'LOGOUT'\n    })\n  }\n}\n\nexport default currentUserReducer","import React from 'react'\n\nimport blogService from './services/blog'\n\nimport Notification from './components/Notification'\nimport BlogForm from './components/BlogForm'\nimport LogoutForm from './components/LogoutForm'\nimport LoginForm from './components/LoginForm'\nimport Togglable from './components/Togglable'\nimport BlogList from './components/BlogList'\nimport UserList from './components/UsersList'\nimport { connect } from 'react-redux'\nimport { createNotification } from './reducers/notificationReducer'\nimport { initializeUsers } from './reducers/userReducer'\nimport { initializeBlogs } from './reducers/blogReducer'\nimport { login, logout, loginFromToken } from './reducers/currentUserReducer'\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      username: '',\n      password: '',\n      selectedBlog: null,\n      user: null,\n      page: 'blogs'\n    }\n  }\n\n  componentWillMount() {\n    this.props.initializeUsers()\n    this.props.initializeBlogs()\n  }\n\n  componentDidMount() {\n    const loggedUserJSON = window.localStorage.getItem('loggedUser')\n    if (loggedUserJSON) {\n      this.props.loginFromToken(JSON.parse(loggedUserJSON))\n      blogService.setToken(JSON.parse(loggedUserJSON).token)\n    }\n  }\n\n  handleChange = (event) => {\n    this.setState({ [event.target.name]: event.target.value })\n  }\n\n  handleButtonChange = (newPage) => {\n    this.setState({ page: newPage })\n  }\n\n  logout = async (event) => {\n    event.preventDefault()\n    try {\n      window.localStorage.removeItem('loggedUser')\n      await this.props.logout\n    } catch (exception) {\n      console.log(exception)\n    }\n  }\n\n  login = async (event) => {\n    event.preventDefault()\n    try {\n      const credentials = ({\n        username: this.state.username,\n        password: this.state.password\n      })\n      await this.props.login(credentials)\n\n      window.localStorage.setItem('loggedUser', JSON.stringify(this.props.currentUser))\n      blogService.setToken(this.props.currentUser.token)\n    } catch (exception) {\n      this.props.createNotification({ message: `Wrong username or password` })\n      console.log(exception)\n    }\n  }\n\n  render() {\n    const loginForm = () => (\n      <LoginForm\n        onSubmit={this.login}\n        username={this.state.username}\n        password={this.state.password}\n        handleChange={this.handleChange}\n      />\n    )\n\n    const logoutForm = () => (\n      <LogoutForm\n        onSubmit={this.logout}\n      />\n    )\n\n    return (\n      <div>\n        <Notification message={this.props.notification} />\n        {this.props.currentUser === null\n          ? loginForm()\n          : <div>\n            <div>\n              <p>{this.props.currentUser.name} logged in</p>\n              <button onClick={() => this.handleButtonChange('blogs')}>blogs</button>\n              <button onClick={() => this.handleButtonChange('users')}>users</button>\n              {logoutForm()}\n            </div>\n            <Togglable buttonLabel=\"create\">\n              <BlogForm />\n            </Togglable>\n            <BlogList show={this.state.page === 'blogs'} blogs={this.props.blogs} currentUser={this.props.currentUser} />\n            <UserList show={this.state.page === 'users'} />\n\n          </div>\n\n        }\n      </div>\n    )\n  }\n\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    blogs: state.blogs,\n    notification: state.notification,\n    currentUser: state.currentUser\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  { createNotification, initializeUsers, initializeBlogs, login, logout, loginFromToken }\n)(App)\n","import { createStore, combineReducers, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport { composeWithDevTools } from 'redux-devtools-extension'\n\nimport notificationReducer from './reducers/notificationReducer'\nimport blogReducer from './reducers/blogReducer'\nimport userReducer from './reducers/userReducer'\nimport currentUserReducer from './reducers/currentUserReducer'\n\nconst reducer = combineReducers({\n  notification: notificationReducer,\n  blogs: blogReducer,\n  users: userReducer,\n  currentUser: currentUserReducer\n})\n\nconst store = createStore(\n  reducer,\n  composeWithDevTools(\n    applyMiddleware(thunk)\n  )\n)\n\nexport default store","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport { Provider } from 'react-redux'\nimport store from './store'\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,  \n  document.getElementById('root'))\n"],"sourceRoot":""}