{"version":3,"sources":["services/blog.js","components/Blog.js","services/login.js","components/Notification.js","reducers/blogReducer.js","reducers/notificationReducer.js","components/BlogForm.js","components/LogoutForm.js","components/LoginForm.js","components/Togglable.js","services/user.js","reducers/userReducer.js","reducers/currentUserReducer.js","App.js","store.js","index.js"],"names":["baseUrl","config","getAll","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","response","wrap","_context","prev","next","axios","get","sent","abrupt","data","stop","apply","this","arguments","getOne","_ref2","_callee2","id","_context2","concat","_x","services_blog","setToken","newToken","token","headers","Authorization","Content-Type","create","_ref3","_callee3","newObject","_context3","post","_x2","update","_ref4","_callee4","changedObject","_context4","put","_x3","_x4","remove","_ref5","_callee5","_context5","delete","_x5","Blog","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","toggleVisibility","setState","visible","state","addLike","event","preventDefault","blogService","blog","_id","title","author","url","user","likes","forceUpdate","t0","console","log","setTimeout","error","deleteBlog","_this2","showWhenVisible","display","react_default","createElement","style","paddingTop","paddingLeft","border","borderWidth","marginBottom","className","onClick","href","name","username","React","Component","services_login","login","credential","Notification","notification","message","connect","blogReducer","length","undefined","action","type","toConsumableArray","blogs","newNotification","createNotification","dispatch","notificationReducer","BlogForm","addBlog","newBlog","createNewBlog","ex","onSubmit","value","onChange","target","LogoutForm","LoginForm","password","handleChange","Togglable","hideWhenVisible","buttonLabel","children","services_user","userReducer","users","currentUserReducer","currentUser","App","defineProperty","logout","window","localStorage","removeItem","credentials","setItem","JSON","stringify","selectedBlog","initializeUsers","initializeBlogs","loggedUserJSON","getItem","loginFromToken","parse","components_Notification","components_LoginForm","components_LogoutForm","components_Togglable","components_BlogForm","map","components_Blog","key","userService","creadentials","loginService","reducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","es","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.df61a1b5.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/blogs'\n\nlet config = null\n\nconst getAll = async () => {\n  const response = await axios.get(baseUrl)\n  return response.data\n}\n\nconst getOne = async (id) => {\n  const response = await axios.get(`${baseUrl}/${id}`)\n  return response.data\n}\n\nconst setToken = (newToken) => {\n  const token = `bearer ${newToken}`\n  config = {\n    headers: { 'Authorization': token, 'Content-Type': 'application/json' }\n  }\n}\n\nconst create = async (newObject) => {\n  const response = await axios.post(baseUrl, newObject, config)\n  return response.data\n}\n\nconst update = async (id, changedObject) => {\n  const response = await axios.put(`${baseUrl}/${id}`, changedObject, config)\n  return response.data\n}\n\nconst remove = async (id) => {\n  const response = await axios.delete(`${baseUrl}/${id}`, config)\n  return response.data\n}\n\nexport default { getAll, setToken, create, getOne, update, remove }\n","import React from 'react'\nimport blogService from '../services/blog'\nimport PropTypes from 'prop-types'\n\nclass Blog extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      visible: false\n    }\n  }\n\n  toggleVisibility = () => {\n    this.setState({ visible: !this.state.visible })\n  }\n\n  addLike = async (event) => {\n    try {\n      event.preventDefault()\n      const changedBlog = await blogService.update(this.props.blog._id, {\n        title: this.props.blog.title,\n        author: this.props.blog.author,\n        url: this.props.blog.url,\n        user: this.props.blog.user,\n        likes: this.props.blog.likes + 1\n      })\n      this.forceUpdate()\n    } catch (exception) {\n      console.log(exception)\n    }\n    setTimeout(() => {\n      this.setState({ error: null })\n    }, 3000)\n\n  }\n\n  deleteBlog = async (event) => {\n    try {\n      event.preventDefault()\n      const deleteBlog = await blogService.remove(this.props.blog._id)\n      this.forceUpdate()\n    } catch (exception) {\n      console.log(exception + 'delete blog error')\n    }\n  }\n\n  render() {\n\n    const showWhenVisible = { display: this.state.visible ? '' : 'none' }\n\n    const blogStyle = {\n      paddingTop: 10,\n      paddingLeft: 2,\n      border: 'solid',\n      borderWidth: 1,\n      marginBottom: 5\n    }\n    const DeleteButton = () => {\n      console.log(this.props.user.username)\n      console.log(this.props.blog.user.username)\n      if (this.props.user.username === this.props.blog.user.username || !this.props.blog.user.username) {\n        return (\n          <div>\n            <button onClick={this.deleteBlog}>delete</button>\n          </div>\n        )\n      }\n      return (\n        <div>\n          You can only delete your own blogs\n          </div>\n      )\n    }\n\n\n\n    return (\n      <div style={blogStyle} className=\"everything\">\n        <div className=\"authorAndTitle\" onClick={this.toggleVisibility}>{this.props.blog.title} {this.props.blog.author}</div>\n        <div className=\"togglableContent\" style={showWhenVisible}>\n          <a href={this.props.blog.url}>{this.props.blog.url}</a>\n          <p>{this.props.blog.likes} likes <button onClick={this.addLike}>like</button></p>\n          <p>added by {this.props.blog.user.name}</p>\n          <DeleteButton />\n        </div>\n      </div>\n    )\n  }\n}\nexport default Blog\n","import axios from 'axios'\nconst baseUrl = '/api/login'\n\nconst login = async (credential) => {\n  const response = await axios.post(baseUrl, credential)\n  return response.data\n}\n\nexport default {login}\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nclass Notification extends React.Component {\n\n  render() {\n    if (!this.props.notification.message) {\n      return null\n    }\n    return (\n      <div className={`notification`} >{this.props.notification.message}</div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    notification: state.notification\n  }\n}\n\nexport default connect(mapStateToProps, null)(Notification)\n","import blogService from '../services/blog'\n\nconst blogReducer = (state = [], action) => {\n  switch (action.type) {\n    case 'NEW_BLOG':\n      return [...state, action.blog]\n    case 'INIT_BLOGS':\n      return action.blogs\n    default:\n      return state\n  }\n}\n\nexport const initializeBlogs = () => {\n  return async dispatch => {\n    const blogs = await blogService.getAll()\n    dispatch({\n      type: 'INIT_BLOGS',\n      blogs\n    })\n  }\n}\n\nexport const createNewBlog = (blog) => {\n  return async (dispatch) => {\n    const newBlog = await blogService.create(blog)\n    dispatch({\n      type: 'NEW_NOTE',\n      blog: newBlog\n    })\n  }\n}\n\nexport default blogReducer","const notificationReducer = (state = {}, action) => {\n  switch (action.type) {\n    case 'NEW_NOTIFICATION':\n      return action.notification\n    case 'CLEAR_NOTIFICATION':\n      return {}\n    default:\n      return state  \n  }\n}\n\nexport const newNotification = (notification) => {\n  return {\n    type: 'NEW_NOTIFICATION',\n    notification\n  }\n}\n\nexport const clearNotification = () => {\n  return {\n    type: 'CLEAR_NOTIFICATION'\n  }\n}\n\nexport const createNotification = (notification) => {\n  return async (dispatch) => {\n    dispatch(newNotification(notification))\n    setTimeout(() => {\n      dispatch(clearNotification())\n    }, 3000)\n  }\n}\n\nexport default notificationReducer","import React, { useState } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\n\nimport { createNewBlog } from '../reducers/blogReducer'\nimport { createNotification } from '../reducers/notificationReducer'\n\nclass BlogForm extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      author: '',\n      title: '',\n      url: ''\n    }\n  }\n\n  addBlog = async (event) => {\n    try {\n      event.preventDefault()\n\n      if (this.state.title.length < 5) {\n        this.props.createNotification({ message: `Title of blog ${this.state.title.length} must be atleast 5 characters` })\n      } else if (this.state.author < 5) {\n        this.props.createNotification({ message: `Author of blog ${this.state.title.length} must be atleast 5 characters` })\n      } else {\n        const newBlog = {\n          title: this.state.title,\n          author: this.state.author,\n          url: this.state.url\n        }\n        this.props.createNewBlog(newBlog)\n\n        this.props.createNotification({ message: `A new blog ${this.state.title} by ${this.state.author} added` })\n\n        this.setState({\n          title: '',\n          author: '',\n          url: '',\n        })\n      }\n    } catch (ex) {\n      this.setState({\n        error: `couldn't add new blog due to an error: ${ex}`\n      })\n      setTimeout(() => {\n        this.setState({ error: null })\n      }, 3000)\n    }\n  }\n  render() {\n    return (\n      <div>\n        <h2>Create new Blog</h2>\n\n        <form onSubmit={this.addBlog}>\n          <div>\n            title\n          <input\n              type=\"text\"\n              name=\"title\"\n              value={this.state.title}\n              onChange={({ target }) => this.setState({ title: target.value })}\n            />\n          </div>\n          <div>\n            author\n          <input\n              type=\"text\"\n              name=\"author\"\n              value={this.state.author}\n              onChange={({ target }) => this.setState({ author: target.value })}\n            />\n          </div>\n          <div>\n            url\n          <input\n              type=\"text\"\n              name=\"url\"\n              value={this.state.url}\n              onChange={({ target }) => this.setState({ url: target.value })}\n            />\n          </div>\n          <button>create</button>\n        </form>\n      </div >\n    )\n  }\n}\n\nexport default connect(\n  null,\n  { createNewBlog, createNotification }\n)(BlogForm)\n","import React from 'react'\n\nconst LogoutForm = ({onSubmit}) => {\n  return (\n    <div>\n      <form onSubmit={onSubmit}>\n        <button>logout</button>\n      </form>\n    </div>\n  )\n}\n\nexport default LogoutForm\n","import React from 'react'\n\nconst LoginForm = ({ onSubmit, username, password, handleChange }) => {\n  return (\n    <div>\n      <h2>Kirjaudu</h2>\n\n      <form onSubmit={onSubmit}>\n        <div>\n          käyttäjätunnus\n          <input\n            type=\"text\"\n            name=\"username\"\n            value={username}\n            onChange={handleChange}\n          />\n        </div>\n        <div>\n          salasana\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={password}\n            onChange={handleChange}\n          />\n        </div>\n        <button>kirjaudu</button>\n      </form>\n    </div>\n  )\n}\n\nexport default LoginForm\n","import React from 'react'\n\nclass Togglable extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      visible: false\n    }\n  }\n\n  toggleVisibility = () => {\n    this.setState({ visible: !this.state.visible })\n  }\n\n  render() {\n    const hideWhenVisible = { display: this.state.visible ? 'none' : '' }\n    const showWhenVisible = { display: this.state.visible ? '' : 'none' }\n\n    return (\n      <div>\n        <div style={hideWhenVisible}>\n          <button onClick={this.toggleVisibility}>{this.props.buttonLabel}</button>\n        </div>\n        <div style={showWhenVisible}>\n          {this.props.children}\n          <button onClick={this.toggleVisibility}>cancel</button>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Togglable","import axios from 'axios'\nconst baseUrl = '/api/users'\n\nconst getAll = async () => {\n  const response = await axios.get(baseUrl)\n  return response.data\n}\n\nconst getOne = async (id) => {\n  const response = await axios.get(`${baseUrl}/${id}`)\n  return response.data\n}\n\nconst create = async (newObject) => {\n  const response = await axios.post(baseUrl, newObject)\n  return response.data\n}\n\nexport default { getAll, create, getOne }\n","import userService from '../services/user'\n\nconst userReducer = (state = [], action) => {\n  switch (action.type) {\n    case 'NEW_USER':\n      return [...state, action.user]\n    case 'INIT_USERS':\n      return action.users\n    case 'GET_USER':\n      return action.user\n    default:\n      return state\n  }\n}\n\nexport const initializeUsers = () => {\n  return async (dispatch) => {\n    const users = await userService.getAll()\n    dispatch({\n      type: 'INIT_USERS',\n      users\n    })\n  }\n}\n\nexport const createNew = (user) => {\n  return async (dispatch) => {\n    const user = await userService.create(user)\n    dispatch({\n      type: 'NEW_USER',\n      user\n    })\n  }\n}\n\nexport const getOne = (id) => {\n  return async (dispatch) => {\n    const user = await userService.getOne(id)\n    dispatch({\n      type: 'GET_USER',\n      user\n    })\n  }\n}\n\n\n\nexport default userReducer","import loginService from '../services/login'\n\nconst currentUserReducer = (state = null, action) => {\n  switch (action.type) {\n    case 'LOGIN':\n      return action.currentUser\n    case 'LOGOUT':\n      return null\n    default:\n      return state\n  }\n}\n\n\nexport const login = (creadentials) => {\n  return async dispatch => {\n    const currentUser = await loginService.login(creadentials)\n    dispatch({\n      type: 'LOGIN',\n      currentUser\n    })\n  }\n}\n\n\nexport const loginFromToken = (currentUser) => {\n  return async dispatch => {\n    dispatch({\n      type: 'LOGIN',\n      currentUser\n    })\n  }\n}\n\n\nexport const logout = () => {\n  return async dispatch => {\n    dispatch({\n      type: 'LOGOUT'\n    })\n  }\n}\n\nexport default currentUserReducer","import React from 'react'\nimport Blog from './components/Blog'\nimport blogService from './services/blog'\nimport loginService from './services/login'\nimport Notification from './components/Notification'\nimport BlogForm from './components/BlogForm'\nimport LogoutForm from './components/LogoutForm'\nimport LoginForm from './components/LoginForm'\nimport Togglable from './components/Togglable'\nimport { connect } from 'react-redux'\nimport { createNotification } from './reducers/notificationReducer'\nimport { initializeUsers } from './reducers/userReducer'\nimport { initializeBlogs } from './reducers/blogReducer'\nimport { login, logout, loginFromToken } from './reducers/currentUserReducer'\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      username: '',\n      password: '',\n      selectedBlog: null,\n      user: null\n    }\n  }\n\n  componentWillMount() {\n    this.props.initializeUsers()\n    this.props.initializeBlogs()\n  }\n\n  componentDidMount() {\n    const loggedUserJSON = window.localStorage.getItem('loggedUser')\n    if (loggedUserJSON) {\n      this.props.loginFromToken(JSON.parse(loggedUserJSON))\n      blogService.setToken(JSON.parse(loggedUserJSON).token)\n    }\n  }\n\n  handleChange = (event) => {\n    this.setState({ [event.target.name]: event.target.value })\n  }\n\n  logout = async (event) => {\n    event.preventDefault()\n    try {\n      window.localStorage.removeItem('loggedUser')\n      await this.props.logout\n    } catch (exception) {\n      console.log(exception)\n    }\n  }\n\n  login = async (event) => {\n    event.preventDefault()\n    try {\n      const credentials = ({\n        username: this.state.username,\n        password: this.state.password\n      })\n      await this.props.login(credentials)\n\n      window.localStorage.setItem('loggedUser', JSON.stringify(this.props.currentUser))\n      blogService.setToken(this.props.currentUser.token)\n    } catch (exception) {\n      this.props.createNotification({ message: `Wrong username or password` })\n      console.log(exception)\n    }\n  }\n\n  render() {\n    const loginForm = () => (\n      <LoginForm\n        onSubmit={this.login}\n        username={this.state.username}\n        password={this.state.password}\n        handleChange={this.handleChange}\n      />\n    )\n\n    const logoutForm = () => (\n      <LogoutForm\n        onSubmit={this.logout}\n      />\n    )\n    return (\n      <div>\n        <Notification message={this.props.notification} />\n        {this.props.currentUser === null ?\n          loginForm() :\n          <div>\n            <p>{this.props.currentUser.name} logged in</p>\n            {logoutForm()}\n            <Togglable buttonLabel=\"create\">\n              <BlogForm />\n            </Togglable>\n            <h2>blogs</h2>\n            {this.props.blogs.map(blog =>\n              <Blog key={blog._id} blog={blog} user={this.props.currentUser.user} />\n            )}\n          </div>\n\n        }\n      </div>\n    )\n  }\n\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    blogs: state.blogs,\n    notification: state.notification,\n    currentUser: state.currentUser\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  { createNotification, initializeUsers, initializeBlogs, login, logout, loginFromToken }\n)(App)\n","import { createStore, combineReducers, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport { composeWithDevTools } from 'redux-devtools-extension'\n\nimport notificationReducer from './reducers/notificationReducer'\nimport blogReducer from './reducers/blogReducer'\nimport userReducer from './reducers/userReducer'\nimport currentUserReducer from './reducers/currentUserReducer'\n\nconst reducer = combineReducers({\n  notification: notificationReducer,\n  blogs: blogReducer,\n  user: userReducer,\n  currentUser: currentUserReducer\n})\n\nconst store = createStore(\n  reducer,\n  composeWithDevTools(\n    applyMiddleware(thunk)\n  )\n)\n\nexport default store","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport { Provider } from 'react-redux'\nimport store from './store'\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,  \n  document.getElementById('root'))\n"],"sourceRoot":""}